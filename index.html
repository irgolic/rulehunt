<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>RuleHunt</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class'
      }
    </script>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body class="bg-white dark:bg-gray-900 min-h-screen flex flex-col items-center justify-center gap-6 p-6 lg:p-12 font-sans text-gray-800 dark:text-gray-200 transition-colors">
    <!-- Theme Toggle -->
    <div class="absolute top-4 right-4 flex gap-1 p-1 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-800">
      <button id="theme-light" class="px-3 py-1 rounded text-sm transition-colors" title="Light mode">‚òÄÔ∏è</button>
      <button id="theme-dark" class="px-3 py-1 rounded text-sm transition-colors" title="Dark mode">üåô</button>
      <button id="theme-system" class="px-3 py-1 rounded text-sm transition-colors" title="System">üíª</button>
    </div>

    <div class="flex flex-col lg:flex-row items-center justify-center gap-12 w-full max-w-7xl">
    <div class="flex flex-col items-center gap-3">
      <canvas id="simulation" width="400" height="400" class="border border-gray-300 dark:border-gray-600 w-80 h-80 lg:w-96 lg:h-96"></canvas>
      
      <div class="flex flex-wrap items-center gap-3">
        <div class="flex flex-col gap-2 p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-800">
          <label class="flex items-center gap-2 text-sm cursor-pointer px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
            <input type="radio" id="radio-random-seed" name="initial-condition" class="cursor-pointer" />
            <span>Random Seed (Full Grid)</span>
          </label>
          <label class="flex items-center gap-2 text-sm cursor-pointer px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
            <input type="radio" id="radio-patch-seed" name="initial-condition" checked class="cursor-pointer" />
            <span>Random Patch (10√ó10)</span>
          </label>
          <label class="flex items-center gap-2 text-sm cursor-pointer px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
            <input type="radio" id="radio-center-seed" name="initial-condition" class="cursor-pointer" />
            <span>Center Seed</span>
          </label>
        </div>
        <button id="btn-restart" class="px-4 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-offset-2">
          Restart
        </button>
      </div>
      
      <div class="flex items-center gap-3 text-sm">
        <label for="alive-slider" class="min-w-16 text-right">Alive %:</label>
        <input type="range" id="alive-slider" min="0" max="100" value="50" class="w-48 cursor-pointer" />
        <span id="alive-value" class="min-w-12">50%</span>
      </div>
      
      <div class="flex items-center gap-3 text-sm">
        <button id="btn-step" class="px-4 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-offset-2">
          Step
        </button>
        <button id="btn-play" class="px-4 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-offset-2">
          Play
        </button>
        <label for="steps-per-second" class="ml-2">Steps/sec:</label>
        <input type="number" id="steps-per-second" min="1" max="60" value="10" class="w-16 px-2 py-1 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400" />
      </div>
    </div>
    
    <div class="flex flex-col items-center">
      <h2 id="rule-label" class="font-mono font-medium tracking-wide mb-3 w-full text-center truncate">
        loading rule name...
      </h2>

      <h2 id="rule-id" class="font-mono font-medium tracking-wide mb-3 w-full text-center truncate">
        loading rule id...
      </h2>
      
      <canvas id="truth" width="512" height="256" class="border border-gray-300 dark:border-gray-600 w-96 h-48 lg:w-[512px] lg:h-64"></canvas>
      
      <div class="mt-3 flex flex-wrap gap-3 justify-center">
        <button id="btn-conway" class="px-4 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-offset-2">
          Conway ruleset
        </button>
        <button id="btn-outlier" class="px-4 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-offset-2">
          Outlier ruleset
        </button>
      </div>
      
      <div class="mt-3 flex gap-3">
        <button id="btn-random-c4-ruleset" class="px-4 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-offset-2">
          Random pattern
        </button>
      </div>
      
      <div class="mt-3 flex items-center gap-3 text-sm">
        <label for="orbit-slider" class="min-w-16 text-right">Orbit %:</label>
        <input type="range" id="orbit-slider" min="0" max="100" value="50" class="w-48 cursor-pointer" />
        <span id="orbit-value" class="min-w-12">50%</span>
      </div>
      
      <div class="mt-3 flex flex-col gap-2 p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-800">
        <label class="flex items-center gap-2 text-sm cursor-pointer px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
          <input type="radio" id="radio-display-orbits" name="display-mode" checked class="cursor-pointer" />
          <span>C4 Orbits (10√ó14)</span>
        </label>
        <label class="flex items-center gap-2 text-sm cursor-pointer px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
          <input type="radio" id="radio-display-full" name="display-mode" class="cursor-pointer" />
          <span>Full Table (32√ó16)</span>
        </label>
      </div>
    </div>
    </div>
    
    <script type="module" src="./src/main.ts"></script>
  </body>
</html>